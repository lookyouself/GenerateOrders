<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Payment Loading</title>
  <script src="https://cdn.tailwindcss.com/3.3.3"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#111827',
            secondary: '#6B7280',
            accent: '#3B82F6',
          },
          fontFamily: {
            inter: ['Inter', 'sans-serif'],
          },
        },
      }
    }
  </script>
  <style type="text/tailwindcss">
    @layer utilities {
      .content-auto {
        content-visibility: auto;
      }
      .dropdown-arrow {
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'/%3E%3C/svg%3E");
        background-repeat: no-repeat;
        background-position: right 15px center;
        background-size: 20px;
      }
      .transition-width {
        transition: width 0.5s ease;
      }
      .card-shadow {
        box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.05), 0 8px 10px -6px rgba(0, 0, 0, 0.03);
      }
      .payment-option {
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      .input-with-currency {
        position: relative;
      }
      .currency-symbol {
        position: absolute;
        right: 15px;
        top: 50%;
        transform: translateY(-50%);
        pointer-events: none;
      }
      .notes-display {
        cursor: pointer;
        transition: all 0.3s ease;
        font-size: 1.1rem;
        display: flex;
        align-items: center;
      }
      .notes-display:hover {
        border-color: #3B82F6;
        box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2);
      }
    }
  </style>
</head>
<body class="min-h-screen bg-gray-100 font-inter p-4 md:p-8">

  <div class="max-w-6xl mx-auto space-y-8">
    <!-- 顶部面板：下拉框 + 输入框（精简版） -->
    <div class="bg-white rounded-xl shadow-lg p-4 transition-all hover:shadow-xl">
      <h2 class="text-lg font-semibold mb-4 text-primary">Payment Info</h2>
      
      <!-- 2行6列布局 -->
      <div class="grid grid-cols-1 md:grid-cols-12 gap-1 md:gap-3">
        <div class="col-span-12 md:col-span-2">
          <select class="w-full px-3 py-2 text-sm border rounded-lg border-gray-300 dropdown-arrow appearance-none focus:outline-none focus:ring-2 focus:ring-accent/50 transition-all" id="paymentSelect">
            <option value="" disabled>Select payment method</option>
            <option value="apple" selected>
              <div class="payment-option">
                <div class="flex items-center">
                  <img src="/GenerateOrders/img/apple.png" alt="Apple" class="mr-2" />
                  Apple
                </div>
                <i class="fa fa-chevron-right text-gray-400"></i>
              </div>
            </option>
            <option value="steam">
              <div class="payment-option">
                <div class="flex items-center">
                  <img src="/GenerateOrders/img/steam.png" alt="Steam" class="mr-2" />
                  Steam
                </div>
                <i class="fa fa-chevron-right text-gray-400"></i>
              </div>
            </option>
            <option value="razer">
              <div class="payment-option">
                <div class="flex items-center">
                  <img src="/GenerateOrders/img/razer.png" alt="Razer" class="mr-2" />
                  Razer
                </div>
                <i class="fa fa-chevron-right text-gray-400"></i>
              </div>
            </option>
            <option value="xbox">
              <div class="payment-option">
                <div class="flex items-center">
                  <img src="/GenerateOrders/img/xbox.png" alt="Xbox" class="mr-2" />
                  Xbox
                </div>
                <i class="fa fa-chevron-right text-gray-400"></i>
              </div>
            </option>
            <option value="amazon">
              <div class="payment-option">
                <div class="flex items-center">
                  <img src="/GenerateOrders/img/amazon.jpg" alt="Amazon" class="mr-2" />
                  Amazon
                </div>
                <i class="fa fa-chevron-right text-gray-400"></i>
              </div>
            </option>
            <option value="btc">
              <div class="payment-option">
                <div class="flex items-center">
                  <img src="/GenerateOrders/img/btc.png" alt="BTC" class="mr-2" />
                  BTC
                </div>
                <i class="fa fa-chevron-right text-gray-400"></i>
              </div>
            </option>
            <option value="applepay">
              <div class="payment-option">
                <div class="flex items-center">
                  <img src="/GenerateOrders/img/applepay.png" alt="Apple Pay" class="mr-2" />
                  Apple Pay
                </div>
                <i class="fa fa-chevron-right text-gray-400"></i>
              </div>
            </option>
            <option value="chime">
              <div class="payment-option">
                <div class="flex items-center">
                  <img src="/GenerateOrders/img/chime.png" alt="Chime" class="mr-2" />
                  Chime
                </div>
                <i class="fa fa-chevron-right text-gray-400"></i>
              </div>
            </option>
            <option value="cashapp">
              <div class="payment-option">
                <div class="flex items-center">
                  <img src="/GenerateOrders/img/cashapp.png" alt="Cashapp" class="mr-2" />
                  Cash
                </div>
                <i class="fa fa-chevron-right text-gray-400"></i>
              </div>
            </option>
            <option value="paypal">
              <div class="payment-option">
                <div class="flex items-center">
                  <img src="/GenerateOrders/img/paypal.png" alt="PayPal" class="mr-2" />
                  PayPal
                </div>
                <i class="fa fa-chevron-right text-gray-400"></i>
              </div>
            </option>
            <option value="zelle">
              <div class="payment-option">
                <div class="flex items-center">
                  <img src="/GenerateOrders/img/zelle.png" alt="Zelle" class="mr-2" />
                  Zelle
                </div>
                <i class="fa fa-chevron-right text-gray-400"></i>
              </div>
            </option>
            <option value="venmo">
              <div class="payment-option">
                <div class="flex items-center">
                  <img src="/GenerateOrders/img/venmo.png" alt="Venmo" class="mr-2" />
                  Venmo
                </div>
                <i class="fa fa-chevron-right text-gray-400"></i>
              </div>
            </option>
          </select>
        </div>
        
        <!-- 国家/地区 -->
        <div class="col-span-12 md:col-span-2">
          <select class="w-full px-3 py-2 text-sm border rounded-lg border-gray-300 dropdown-arrow appearance-none focus:outline-none focus:ring-2 focus:ring-accent/50 transition-all" id="countrySelect">
            <option value="US" selected>US</option>
            <option value="UK">UK</option>
            <option value="EUR">EUR</option>
          </select>
        </div>
        
        <!-- 创建时间 -->
        <div class="col-span-12 md:col-span-2">
          <input type="datetime-local" id="createTime" class="w-full px-3 py-2 text-sm border rounded-lg border-gray-300 focus:outline-none focus:ring-2 focus:ring-accent/50 transition-all" placeholder="Create" />
        </div>
        
        <!-- 结束时间 -->
        <div class="col-span-12 md:col-span-2">
          <input type="datetime-local" id="endTime" class="w-full px-3 py-2 text-sm border rounded-lg border-gray-300 focus:outline-none focus:ring-2 focus:ring-accent/50 transition-all" placeholder="End" />
        </div>
        
        <div class="col-span-12 md:col-span-2">
          <div class="input-with-currency">
            <input type="number" id="loadingCapacity" class="w-full px-3 py-2 text-sm border rounded-lg border-gray-300 focus:outline-none focus:ring-2 focus:ring-accent/50 transition-all pr-8" placeholder="Capacity" value="500" />
            <span class="currency-symbol text-primary text-sm font-medium" id="capacityCurrency">$</span>
          </div>
        </div>
        
        <div class="col-span-12 md:col-span-2">
          <div class="input-with-currency">
            <input type="number" id="totalLoading" class="w-full px-3 py-2 text-sm border rounded-lg border-gray-300 focus:outline-none focus:ring-2 focus:ring-accent/50 transition-all pr-8" placeholder="Total" value="1500" />
            <span class="currency-symbol text-primary text-sm font-medium" id="totalCurrency">$</span>
          </div>
        </div>
        
        <!-- 银行 -->
        <div class="col-span-12 md:col-span-2">
          <input type="text" id="bank" class="w-full px-3 py-2 text-sm border rounded-lg border-gray-300 focus:outline-none focus:ring-2 focus:ring-accent/50 transition-all" placeholder="Bank" />
        </div>
        
        <!-- 账户 -->
        <div class="col-span-12 md:col-span-2">
          <input type="text" id="account" class="w-full px-3 py-2 text-sm border rounded-lg border-gray-300 focus:outline-none focus:ring-2 focus:ring-accent/50 transition-all" placeholder="Account" />
        </div>
        
        <!-- 姓名 -->
        <div class="col-span-12 md:col-span-2">
          <input type="text" id="name" class="w-full px-3 py-2 text-sm border rounded-lg border-gray-300 focus:outline-none focus:ring-2 focus:ring-accent/50 transition-all" placeholder="Name" />
        </div>
        
        <!-- 金额 -->
        <div class="col-span-12 md:col-span-2">
          <div class="input-with-currency">
            <input type="number" id="amount" class="w-full px-3 py-2 text-sm border rounded-lg border-gray-300 focus:outline-none focus:ring-2 focus:ring-accent/50 transition-all pr-8" placeholder="Amount" />
            <span class="currency-symbol text-primary text-sm font-medium" id="amountCurrency">₦</span>
          </div>
        </div>
        
        <!-- 备注 -->
        <div class="col-span-12 md:col-span-4">
          <input type="text" id="notes" class="w-full px-3 py-2 text-sm border rounded-lg border-gray-300 focus:outline-none focus:ring-2 focus:ring-accent/50 transition-all" placeholder="Notes" />
        </div>
      </div>
    </div>
    
    <!-- 底部面板：卡片主体 - 已缩小尺寸 -->
    <div class="bg-white rounded-xl shadow-lg max-w-3xl mx-auto overflow-hidden transform transition-all hover:shadow-xl card-shadow">
      <div class="p-4 md:p-6">
        <!-- 订单提示文本 -->
        <div class="border-2 border-red-600 bg-red-50 text-red-600 font-bold p-3 mb-3 rounded flex items-center">
          <span class="flex items-center">
            <span>Reminder：<span class="mx-2">⚠️</span>Order cannot be canceled once confirmed!</span>
          </span>
        </div>
        
        <!-- 图标展示区域 -->
        <div class="selected-icon active mb-6" id="appleIcon">
          <div class="flex flex-col sm:flex-row items-center justify-between">
            <div class="flex items-center mb-3 sm:mb-0">
              <img src="/GenerateOrders/img/apple.png" alt="Apple" class="w-16 h-16 mr-4 object-contain" />
              <span class="text-xl font-bold text-primary">Apple</span>
            </div>
            <!-- 备注显示方框 -->
            <div class="border-2 border-gray-300 rounded-lg p-3 w-full sm:w-1/2 min-h-[60px] bg-gray-50 notes-display" id="notesDisplay">
              <div id="notesContent" class="text-gray-800"></div>
            </div>
          </div>
        </div>

        <div class="selected-icon mb-6 opacity-0 transform translate-y-4 hidden" id="steamIcon">
          <div class="flex flex-col sm:flex-row items-center justify-between">
            <div class="flex items-center mb-3 sm:mb-0">
              <img src="/GenerateOrders/img/steam.png" alt="Steam" class="w-16 h-16 mr-4 object-contain" />
              <span class="text-xl font-bold text-primary">Steam</span>
            </div>
            <!-- 备注显示方框 -->
            <div class="border-2 border-gray-300 rounded-lg p-3 w-full sm:w-1/2 min-h-[60px] bg-gray-50 notes-display" id="steamNotesDisplay">
              <div class="text-gray-800"></div>
            </div>
          </div>
        </div>

        <div class="selected-icon mb-6 opacity-0 transform translate-y-4 hidden" id="razerIcon">
          <div class="flex flex-col sm:flex-row items-center justify-between">
            <div class="flex items-center mb-3 sm:mb-0">
              <img src="/GenerateOrders/img/razer.png" alt="Razer" class="w-16 h-16 mr-4 object-contain" />
              <span class="text-xl font-bold text-primary">Razer</span>
            </div>
            <!-- 备注显示方框 -->
            <div class="border-2 border-gray-300 rounded-lg p-3 w-full sm:w-1/2 min-h-[60px] bg-gray-50 notes-display" id="razerNotesDisplay">
              <div class="text-gray-800"></div>
            </div>
          </div>
        </div>

        <div class="selected-icon mb-6 opacity-0 transform translate-y-4 hidden" id="xboxIcon">
          <div class="flex flex-col sm:flex-row items-center justify-between">
            <div class="flex items-center mb-3 sm:mb-0">
              <img src="/GenerateOrders/img/xbox.png" alt="Xbox" class="w-16 h-16 mr-4 object-contain" />
              <span class="text-xl font-bold text-primary">Xbox</span>
            </div>
            <!-- 备注显示方框 -->
            <div class="border-2 border-gray-300 rounded-lg p-3 w-full sm:w-1/2 min-h-[60px] bg-gray-50 notes-display" id="xboxNotesDisplay">
              <div class="text-gray-800"></div>
            </div>
          </div>
        </div>

        <!-- Amazon图标调整到Xbox之后 -->
        <div class="selected-icon mb-6 opacity-0 transform translate-y-4 hidden" id="amazonIcon">
          <div class="flex flex-col sm:flex-row items-center justify-between">
            <div class="flex items-center mb-3 sm:mb-0">
              <img src="/GenerateOrders/img/amazon.jpg" alt="Amazon" class="w-16 h-16 mr-4 object-contain" />
              <span class="text-xl font-bold text-primary">Amazon</span>
            </div>
            <!-- 备注显示方框 -->
            <div class="border-2 border-gray-300 rounded-lg p-3 w-full sm:w-1/2 min-h-[60px] bg-gray-50 notes-display" id="amazonNotesDisplay">
              <div class="text-gray-800"></div>
            </div>
          </div>
        </div>

        <div class="selected-icon mb-6 opacity-0 transform translate-y-4 hidden" id="btcIcon">
          <div class="flex flex-col sm:flex-row items-center justify-between">
            <div class="flex items-center mb-3 sm:mb-0">
              <img src="/GenerateOrders/img/btc.png" alt="BTC" class="w-16 h-16 mr-4 object-contain" />
              <span class="text-xl font-bold text-primary">BTC</span>
            </div>
            <!-- 备注显示方框 -->
            <div class="border-2 border-gray-300 rounded-lg p-3 w-full sm:w-1/2 min-h-[60px] bg-gray-50 notes-display" id="btcNotesDisplay">
              <div class="text-gray-800"></div>
            </div>
          </div>
        </div>

        <div class="selected-icon mb-6 opacity-0 transform translate-y-4 hidden" id="applepayIcon">
          <div class="flex flex-col sm:flex-row items-center justify-between">
            <div class="flex items-center mb-3 sm:mb-0">
              <img src="/GenerateOrders/img/applepay.png" alt="Apple Pay" class="w-16 h-16 mr-4 object-contain" />
              <span class="text-xl font-bold text-primary">Apple Pay</span>
            </div>
            <!-- 备注显示方框 -->
            <div class="border-2 border-gray-300 rounded-lg p-3 w-full sm:w-1/2 min-h-[60px] bg-gray-50 notes-display" id="applepayNotesDisplay">
              <div class="text-gray-800"></div>
            </div>
          </div>
        </div>

        <div class="selected-icon mb-6 opacity-0 transform translate-y-4 hidden" id="chimeIcon">
          <div class="flex flex-col sm:flex-row items-center justify-between">
            <div class="flex items-center mb-3 sm:mb-0">
              <img src="/GenerateOrders/img/chime.png" alt="Chime" class="w-16 h-16 mr-4 object-contain" />
              <span class="text-xl font-bold text-primary">Chime</span>
            </div>
            <!-- 备注显示方框 -->
            <div class="border-2 border-gray-300 rounded-lg p-3 w-full sm:w-1/2 min-h-[60px] bg-gray-50 notes-display" id="chimeNotesDisplay">
              <div class="text-gray-800"></div>
            </div>
          </div>
        </div>

        <div class="selected-icon mb-6 opacity-0 transform translate-y-4 hidden" id="cashappIcon">
          <div class="flex flex-col sm:flex-row items-center justify-between">
            <div class="flex items-center mb-3 sm:mb-0">
              <img src="/GenerateOrders/img/cashapp.png" alt="Cashapp" class="w-16 h-16 mr-4 object-contain" />
              <span class="text-xl font-bold text-primary">Cash</span>
            </div>
            <!-- 备注显示方框 -->
            <div class="border-2 border-gray-300 rounded-lg p-3 w-full sm:w-1/2 min-h-[60px] bg-gray-50 notes-display" id="cashappNotesDisplay">
              <div class="text-gray-800"></div>
            </div>
          </div>
        </div>

        <div class="selected-icon mb-6 opacity-0 transform translate-y-4 hidden" id="paypalIcon">
          <div class="flex flex flex-col sm:flex-row items-center justify-between">
            <div class="flex items-center mb-3 sm:mb-0">
              <img src="/GenerateOrders/img/paypal.png" alt="PayPal" class="w-16 h-16 mr-4 object-contain" />
              <span class="text-xl font-bold text-primary">PayPal</span>
            </div>
            <!-- 备注显示方框 -->
            <div class="border-2 border-gray-300 rounded-lg p-3 w-full sm:w-1/2 min-h-[60px] bg-gray-50 notes-display" id="paypalNotesDisplay">
              <div class="text-gray-800"></div>
            </div>
          </div>
        </div>

        <div class="selected-icon mb-6 opacity-0 transform translate-y-4 hidden" id="zelleIcon">
          <div class="flex flex-col sm:flex-row items-center justify-between">
            <div class="flex items-center mb-3 sm:mb-0">
              <img src="/GenerateOrders/img/zelle.png" alt="Zelle" class="w-16 h-16 mr-4 object-contain" />
              <span class="text-xl font-bold text-primary">Zelle</span>
            </div>
            <!-- 备注显示方框 -->
            <div class="border-2 border-gray-300 rounded-lg p-3 w-full sm:w-1/2 min-h-[60px] bg-gray-50 notes-display" id="zelleNotesDisplay">
              <div class="text-gray-800"></div>
            </div>
          </div>
        </div>

        <div class="selected-icon mb-6 opacity-0 transform translate-y-4 hidden" id="venmoIcon">
          <div class="flex flex-col sm:flex-row items-center justify-between">
            <div class="flex items-center mb-3 sm:mb-0">
              <img src="/GenerateOrders/img/venmo.png" alt="Venmo" class="w-16 h-16 mr-4 object-contain" />
              <span class="text-xl font-bold text-primary">Venmo</span>
            </div>
            <!-- 备注显示方框 -->
            <div class="border-2 border-gray-300 rounded-lg p-3 w-full sm:w-1/2 min-h-[60px] bg-gray-50 notes-display" id="venmoNotesDisplay">
              <div class="text-gray-800"></div>
            </div>
          </div>
        </div>

        <!-- 加载信息 - 使用国家选择的货币符号 -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-3 mb-5">
          <div class="bg-gray-50 p-3 rounded-lg">
            <div class="text-gray-600 text-sm mb-1">Loaded capacity</div>
            <div class="text-xl font-bold text-primary">
              <span id="displayCapacityCurrency">$</span><span id="displayCapacity">500</span>
            </div>
          </div>
          <div class="bg-gray-50 p-3 rounded-lg">
            <div class="text-gray-600 text-sm mb-1">Total loading</div>
            <div class="text-xl font-bold text-primary">
              <span id="displayTotalCurrency">$</span><span id="displayTotal">1500</span>
            </div>
          </div>
        </div>
        
        <!-- 进度条 -->
        <div class="h-12 bg-gray-200 rounded-full mb-5 overflow-hidden relative">
          <div id="progressFill" class="h-full bg-primary transition-width flex items-center pl-6" style="width: 33%;">
            <div id="loadingPercentText" class="text-white font-medium text-lg">Loading.... 33.00%</div>
          </div>
        </div>
        
        <!-- 显示区域 - 增加姓名显示 -->
        <div class="grid grid-cols-1 md:grid-cols-4 gap-3 mb-6">
          <div class="bg-gray-50 p-3 rounded-lg">
            <div class="text-gray-600 text-sm mb-1">Bank</div>
            <div class="text-base font-medium text-primary" id="displayBank">-</div>
          </div>
          <div class="bg-gray-50 p-3 rounded-lg">
            <div class="text-gray-600 text-sm mb-1">Account</div>
            <div class="text-base font-medium text-primary" id="displayAccount">-</div>
          </div>
          <div class="bg-gray-50 p-3 rounded-lg">
            <div class="text-gray-600 text-sm mb-1">Name</div>
            <div class="text-base font-medium text-primary" id="displayName">-</div>
          </div>
          <div class="bg-gray-50 p-3 rounded-lg">
            <div class="text-gray-600 text-sm mb-1">Amount</div>
            <div class="text-base font-medium text-primary">
              <span id="displayAmountCurrency">₦</span><span id="displayAmount">-</span>
            </div>
          </div>
        </div>

        <!-- 时间显示区域 - 移到详细信息展示区下方 -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-3 mb-5">
          <div class="bg-gray-50 p-3 rounded-lg">
            <div class="text-gray-600 text-sm mb-1">Creation Time</div>
            <div class="text-xl font-bold text-primary" id="displayCreateTime">-</div>
          </div>
          <div class="bg-gray-50 p-3 rounded-lg">
            <div class="text-gray-600 text-sm mb-1">End Time</div>
            <div class="text-xl font-bold text-primary" id="displayEndTime">-</div>
          </div>
        </div>

        <!-- 提交按钮 -->
        <button id="continueButton" class="w-full bg-primary hover:bg-primary/90 text-white py-3 px-4 rounded-lg font-medium transition-all transform hover:scale-[1.02] focus:outline-none focus:ring-2 focus:ring-primary/50">
          Continue top-up
        </button>
      </div>
    </div>
  </div>

  <!-- 页脚 -->
  <footer class="mt-8 max-w-6xl mx-auto text-center text-gray-500 text-sm">
    <p>created by <a href="https://space.coze.cn" class="text-blue-500 hover:underline">JADE Company</a></p>
    <p>The final interpretation right belongs to JADE</p>
  </footer>

  <!-- JS 逻辑 -->
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const paymentSelect = document.getElementById('paymentSelect');
      const countrySelect = document.getElementById('countrySelect');
      const icons = {
        apple: document.getElementById('appleIcon'),
        steam: document.getElementById('steamIcon'),
        razer: document.getElementById('razerIcon'),
        xbox: document.getElementById('xboxIcon'),
        amazon: document.getElementById('amazonIcon'),
        btc: document.getElementById('btcIcon'),
        applepay: document.getElementById('applepayIcon'),
        chime: document.getElementById('chimeIcon'),
        cashapp: document.getElementById('cashappIcon'),
        paypal: document.getElementById('paypalIcon'),
        zelle: document.getElementById('zelleIcon'),
        venmo: document.getElementById('venmoIcon')
      };

      const loadingCapacityInput = document.getElementById('loadingCapacity');
      const totalLoadingInput = document.getElementById('totalLoading');
      const bankInput = document.getElementById('bank');
      const accountInput = document.getElementById('account');
      // 新增姓名输入框引用
      const nameInput = document.getElementById('name');
      const amountInput = document.getElementById('amount');
      // 新增时间输入框引用
      const createTimeInput = document.getElementById('createTime');
      const endTimeInput = document.getElementById('endTime');
      // 新增备注输入框引用
      const notesInput = document.getElementById('notes');

      const displayCapacity = document.getElementById('displayCapacity');
      const displayTotal = document.getElementById('displayTotal');
      const displayBank = document.getElementById('displayBank');
      const displayAccount = document.getElementById('displayAccount');
      // 新增姓名显示区域引用
      const displayName = document.getElementById('displayName');
      const displayAmount = document.getElementById('displayAmount');
      const displayPercentText = document.getElementById('loadingPercentText');
      // 新增时间显示区域引用
      const displayCreateTime = document.getElementById('displayCreateTime');
      const displayEndTime = document.getElementById('displayEndTime');
      const progressFill = document.getElementById('progressFill');
      const continueButton = document.getElementById('continueButton');
      
      // 货币符号映射
      const currencySymbols = {
        'US': '$',
        'UK': '£',
        'EUR': '€'
      };
      
      // 货币符号元素
      const capacityCurrency = document.getElementById('capacityCurrency');
      const totalCurrency = document.getElementById('totalCurrency');
      const amountCurrency = document.getElementById('amountCurrency');
      const displayCapacityCurrency = document.getElementById('displayCapacityCurrency');
      const displayTotalCurrency = document.getElementById('displayTotalCurrency');
      const displayAmountCurrency = document.getElementById('displayAmountCurrency');

      // 存储初始值，用于动画演示
      const initialCapacity = 500;
      const initialTotal = 1500;
      
      // 设置初始值
      loadingCapacityInput.value = initialCapacity;
      totalLoadingInput.value = initialTotal;

      // 触发Apple图标显示
      if (paymentSelect.value === 'apple') {
        // 隐藏所有图标
        Object.values(icons).forEach(icon => {
          icon.classList.remove('active');
          icon.classList.add('opacity-0', 'transform', 'translate-y-4', 'hidden');
        });
        
        // 显示Apple图标
        const appleIcon = icons['apple'];
        appleIcon.classList.remove('hidden', 'opacity-0', 'transform', 'translate-y-4');
        appleIcon.classList.add('active');
      }

      // 更新货币符号
      function updateCurrencySymbols() {
        const selectedCountry = countrySelect.value;
        const symbol = currencySymbols[selectedCountry] || '$';
        
        capacityCurrency.textContent = symbol;
        totalCurrency.textContent = symbol;
        displayCapacityCurrency.textContent = symbol;
        displayTotalCurrency.textContent = symbol;
        
        // 更新显示值的格式
        updateProgress();
      }

      function updateProgress() {
        let capacity = parseFloat(loadingCapacityInput.value) || 0;
        let total = parseFloat(totalLoadingInput.value) || 0;

        if (total === 0) {
          displayCapacity.textContent = `0`;
          displayTotal.textContent = `0`;
          displayPercentText.textContent = `Loading.... 0.00%`;
          progressFill.style.width = '0%';
        } else {
          let percent = Math.min((capacity / total) * 100, 100); // 确保不超过100%
          displayCapacity.textContent = `${capacity.toLocaleString()}`;
          displayTotal.textContent = `${total.toLocaleString()}`;
          displayPercentText.textContent = `Loading.... ${percent.toFixed(2)}%`;
          progressFill.style.width = `${percent}%`;
          
          // 更新按钮状态
          if (percent >= 100) {
            continueButton.textContent = 'Complete';
            continueButton.classList.add('bg-green-600');
            continueButton.classList.remove('bg-primary', 'hover:bg-primary/90');
            // 当进度达到100%时，将文字颜色改为深色
            displayPercentText.classList.remove('text-white');
            displayPercentText.classList.add('text-gray-800');
          } else {
            continueButton.textContent = 'Continue top-up';
            continueButton.classList.remove('bg-green-600');
            continueButton.classList.add('bg-primary', 'hover:bg-primary/90');
            // 当进度未达到100%时，文字颜色为白色
            displayPercentText.classList.remove('text-gray-800');
            displayPercentText.classList.add('text-white');
          }
        }
      }

      // 更新新增的输入框显示 - 包含姓名和时间
      function updateAdditionalInfo() {
        const bank = bankInput.value || '-';
        const account = accountInput.value || '-';
        // 新增姓名处理
        const name = nameInput.value || '-';
        let amount = amountInput.value || '-';
        
        // 新增时间处理
        const createTime = createTimeInput.value || '-';
        const endTime = endTimeInput.value || '-';
        
        if (amount !== '-') {
          amount = `${parseFloat(amount).toLocaleString()}`;
        }
        
        // 更新显示区域
        displayBank.textContent = bank;
        displayAccount.textContent = account;
        // 新增姓名显示更新
        displayName.textContent = name;
        displayAmount.textContent = amount;
        
        // 新增时间显示更新
        displayCreateTime.textContent = formatDateTime(createTime);
        displayEndTime.textContent = formatDateTime(endTime);
      }
      
      // 更新备注显示
      function updateNotesDisplay() {
        const notes = notesInput.value || '';
        const selectedValue = paymentSelect.value;
        
        // 处理Apple支付方式的特殊情况
        if (selectedValue === 'apple') {
          const notesContent = document.getElementById('notesContent');
          if (notesContent) {
            notesContent.textContent = notes;
          }
          return; // 提前返回，避免执行下面的代码
        }
        
        // 处理其他支付方式
        const notesDisplayId = selectedValue + 'NotesDisplay';
        const notesDisplay = document.getElementById(notesDisplayId);
        
        if (notesDisplay) {
          // 对于其他支付方式，直接使用显示框
          const notesContent = notesDisplay.querySelector('.text-gray-800');
          if (notesContent) {
            notesContent.textContent = notes;
          } else {
            notesDisplay.textContent = notes;
          }
        }
      }
      
      // 格式化日期时间显示
      function formatDateTime(dateTimeString) {
        if (!dateTimeString || dateTimeString === '-') return '-';
        
        const date = new Date(dateTimeString);
        const year = date.getFullYear();
        const month = String(date.getMonth() + 1).padStart(2, '0');
        const day = String(date.getDate()).padStart(2, '0');
        const hours = String(date.getHours()).padStart(2, '0');
        const minutes = String(date.getMinutes()).padStart(2, '0');
        
        return `${year}-${month}-${day} ${hours}:${minutes}`;
      }

      // 下拉框切换图标
      paymentSelect.addEventListener('change', function () {
        // 隐藏所有图标
        Object.values(icons).forEach(icon => {
          icon.classList.remove('active');
          icon.classList.add('opacity-0', 'transform', 'translate-y-4');
          setTimeout(() => {
            icon.classList.add('hidden');
          }, 300);
        });
        
        // 显示选中的图标
        const selectedValue = this.value;
        const selectedIcon = icons[selectedValue];
        if (selectedIcon) {
          setTimeout(() => {
            selectedIcon.classList.remove('hidden');
            setTimeout(() => {
              selectedIcon.classList.add('active');
              selectedIcon.classList.remove('opacity-0', 'transform', 'translate-y-4');
              // 更新备注显示
              updateNotesDisplay();
            }, 50);
          }, 300);
        }
      });

      // 国家/地区下拉框变化时更新货币符号
      countrySelect.addEventListener('change', updateCurrencySymbols);

      // 输入框变化时更新数据
      loadingCapacityInput.addEventListener('input', updateProgress);
      totalLoadingInput.addEventListener('input', updateProgress);
      
      // 新增输入框的事件监听 - 包含姓名、时间和备注
      bankInput.addEventListener('input', updateAdditionalInfo);
      accountInput.addEventListener('input', updateAdditionalInfo);
      nameInput.addEventListener('input', updateAdditionalInfo);
      amountInput.addEventListener('input', updateAdditionalInfo);
      createTimeInput.addEventListener('input', updateAdditionalInfo);
      endTimeInput.addEventListener('input', updateAdditionalInfo);
      notesInput.addEventListener('input', updateNotesDisplay);
      
      // 输入框聚焦时的动画效果 - 包含姓名、时间和备注输入框
      const inputs = [loadingCapacityInput, totalLoadingInput, bankInput, accountInput, nameInput, amountInput, createTimeInput, endTimeInput, notesInput];
      inputs.forEach(input => {
        input.addEventListener('focus', () => {
          input.parentElement.classList.add('scale-[1.02]');
          input.parentElement.style.transition = 'transform 0.3s ease';
        });
        
        input.addEventListener('blur', () => {
          input.parentElement.classList.remove('scale-[1.02]');
        });
      });

      // 按钮点击效果
      continueButton.addEventListener('click', function() {
        this.classList.add('scale-[0.98]');
        setTimeout(() => {
          this.classList.remove('scale-[0.98]');
          
          // 如果已完成，添加完成动画
          if (this.textContent === 'Complete') {
            progressFill.classList.add('bg-green-600');
            displayPercentText.textContent = 'Completed! 100.00%';
            // 完成时文字颜色改为深色
            displayPercentText.classList.remove('text-white');
            displayPercentText.classList.add('text-gray-800');
            
            // 3秒后重置
            setTimeout(() => {
              progressFill.classList.remove('bg-green-600');
              loadingCapacityInput.value = initialCapacity;
              totalLoadingInput.value = initialTotal;
              bankInput.value = '';
              accountInput.value = '';
              // 重置姓名输入框
              nameInput.value = '';
              amountInput.value = '';
              // 重置时间输入框
              createTimeInput.value = '';
              endTimeInput.value = '';
              updateProgress();
              updateAdditionalInfo();
              updateCurrencySymbols(); // 确保重置后货币符号正确
            }, 3000);
          }
        }, 150);
      });

      // 设置默认时间
      function setDefaultTimes() {
        const now = new Date();
        const oneHourLater = new Date(now.getTime() + 60 * 60 * 1000);
        
        // 格式化日期时间为 input[type="datetime-local"] 所需格式
        const formatDateTimeForInput = (date) => {
          return date.toISOString().slice(0, 16);
        };
        
        createTimeInput.value = formatDateTimeForInput(now);
        endTimeInput.value = formatDateTimeForInput(oneHourLater);
      }
      
      // 初始化备注显示方框点击事件
      document.querySelectorAll('[id$="NotesDisplay"]').forEach(notesDisplay => {
        notesDisplay.addEventListener('click', function() {
          notesInput.focus();
        });
      });
      
      // 初始化一次
      setDefaultTimes();
      updateProgress();
      updateAdditionalInfo();
      updateCurrencySymbols(); // 初始化货币符号
      updateNotesDisplay(); // 初始化备注显示
      
      // 添加淡入动画
      const card = document.querySelector('.max-w-6xl');
      card.classList.add('opacity-0', 'transform', 'translate-y-8');
      setTimeout(() => {
        card.classList.remove('opacity-0', 'translate-y-8');
        card.classList.add('transition-all', 'duration-700');
      }, 100);
    });
  </script>
</body>
</html>


